{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createGallery(items) {\n  return `\n  <div class=\"wrapWrap\">\n      <li class=\"lFitem\">\n      <a class=\"lFlink\" href=\"${items.webformatURL}\">\n        <img src=\"${items.largeImageURL}\" alt=\"${items.tags}  \" width=\"200\" height=\"200\" />\n      </a>\n    </li>\n\n        <div class=\"wrapFoto\">\n        <div class=\"wrapListFoto\">\n        <ul class=\"wrapList\">\n            <li class=\"wrapItem\">Likes</li>\n            <p class=\"wrapQty\">${items.likes}</p>\n        </ul> \n    </div>\n        <div class=\"wrapListFoto\">\n        <ul class=\"wrapList\">\n            <li class=\"wrapItem\">Views</li>\n            <p class=\"wrapQty\">${items.views}</p>\n        </ul> \n    </div>\n        <div class=\"wrapListFoto\">\n        <ul class=\"wrapList\">\n            <li class=\"wrapItem\">Comments</li>\n            <p class=\"wrapQty\">${items.comment}</p>\n        </ul> \n    </div>\n        <div class=\"wrapListFoto\">\n        <ul class=\"wrapList\">\n            <li class=\"wrapItem\">Downloads</li>\n            <p class=\"wrapQty\">${items.downloads}</p>\n        </ul> \n        </div>\n    </div>\n        </div>\n  `;\n}\n","const apiPix = 'https://pixabay.com/api/?key=';\n\nexport const searchPhoto = queryPhoto => {\n  const userParams = new URLSearchParams({\n    key: '45750277-faa37f2a8b8a1a1eac0cf2e32',\n    q: queryPhoto,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    per_page: 20,\n    safesearch: 'true',\n  });\n  return fetch(`${apiPix}&${userParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n\n// inpt.addEventListener('input', e => {\n//   const query = e.target.value;\n//   if (query.trim() !== '') {\n//     searchPhoto(query);\n//   }\n// });\n","import { createGallery } from './js/render-functions';\nimport { searchPhoto } from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst srchPhoto = document.querySelector('.form-js-search');\nconst gallery = document.querySelector('.list-foto');\nconst loaderJs = document.querySelector('.loader');\nconst showLoader = () => (loaderJs.style.display = 'inline-block');\nconst hideLoader = () => (loaderJs.style.display = 'none');\n\nconst lightbox = new SimpleLightbox('.list-foto a', {\n  captionData: 'alt',\n  captionDelay: 250,\n});\n\nconst onSearchForm = event => {\n  event.preventDefault();\n\n  const searchVal = srchPhoto.querySelector('.input-js').value.trim();\n  loaderJs.classList.remove('is-hidden');\n  gallery.innerHTML = '';\n\n  searchPhoto(searchVal)\n    .then(data => {\n      if (data.hits.length == 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n\n        srchPhoto.reset();\n        return;\n      }\n\n      const galleryTemplate = data.hits\n        .map(imgdetails => createGallery(imgdetails))\n        .join('');\n      gallery.innerHTML = galleryTemplate;\n\n      lightbox.refresh();\n      loaderJs.classList.add('is-hidden');\n      srchPhoto.reset();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n};\n\nsrchPhoto.addEventListener('submit', onSearchForm);\n"],"names":["createGallery","items","apiPix","searchPhoto","queryPhoto","userParams","response","srchPhoto","gallery","loaderJs","lightbox","SimpleLightbox","onSearchForm","event","searchVal","data","iziToast","galleryTemplate","imgdetails","error"],"mappings":"6vBAAO,SAASA,EAAcC,EAAO,CACnC,MAAO;AAAA;AAAA;AAAA,gCAGuBA,EAAM,YAAY;AAAA,oBAC9BA,EAAM,aAAa,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAQ1BA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAMXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAMXA,EAAM,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAMbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,GAMhD,CCrCA,MAAMC,EAAS,gCAEFC,EAAcC,GAAc,CACvC,MAAMC,EAAa,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,SAAU,GACV,WAAY,MAChB,CAAG,EACD,OAAO,MAAM,GAAGF,CAAM,IAAIG,CAAU,EAAE,EAAE,KAAKC,GAAY,CACvD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,KAAM,CAC1B,CAAG,CACH,ECXMC,EAAY,SAAS,cAAc,iBAAiB,EACpDC,EAAU,SAAS,cAAc,YAAY,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAI3CC,EAAW,IAAIC,EAAe,eAAgB,CAClD,YAAa,MACb,aAAc,GAChB,CAAC,EAEKC,EAAeC,GAAS,CAC5BA,EAAM,eAAgB,EAEtB,MAAMC,EAAYP,EAAU,cAAc,WAAW,EAAE,MAAM,KAAM,EACnEE,EAAS,UAAU,OAAO,WAAW,EACrCD,EAAQ,UAAY,GAEpBL,EAAYW,CAAS,EAClB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,QAAU,EAAG,CACzBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAEDT,EAAU,MAAO,EACjB,MACR,CAEM,MAAMU,EAAkBF,EAAK,KAC1B,IAAIG,GAAclB,EAAckB,CAAU,CAAC,EAC3C,KAAK,EAAE,EACVV,EAAQ,UAAYS,EAEpBP,EAAS,QAAS,EAClBD,EAAS,UAAU,IAAI,WAAW,EAClCF,EAAU,MAAO,CAClB,CAAA,EACA,MAAMY,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,EAEAZ,EAAU,iBAAiB,SAAUK,CAAY"}